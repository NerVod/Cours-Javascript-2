<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>JavaScript & DOM : Techniques Avancées - Exercice 01</title>
    <script>
      /* Chaînage d'exécution */
      /*
       * En JavaScript, on peut, en utilisant certaines ASTUCES de programmation chaîner l'exécution de méthodes d'un objet. En d'autre termes, exécuter plusieurs méthodes d'un objet à la suite et en une seule ligne. Pour faire cela, on crée des méthodes qui retournent une référence à l'objet à partir duquel elles ont été exécutées.
       */

      //Énoncé
      /*
      1. Créez un objet en JSON qui contient 3 méthodes.
      */
      var objetMagique = {
        manger: function () {
          console.log("Crunch crunch");
        },
        dormir: function () {
          console.log("Zzzzzz");
        },
        programmer: function () {
          console.log("Je suis un héros !");
        },
      };

      /*
      2. Comment obtient-on, dans une méthode, une référence à l'objet contenant la méthode ? Retournez cette référence à partir de chacune des méthodes. 
      */
      objetMagique.manger = function () {
        console.log("Crunch crunch");
        return this;
      };
      objetMagique.dormir = function () {
        console.log("Zzzzzz");
        return this;
      };
      objetMagique.programmer = function () {
        console.log("Je suis un héros !");
        return this;
      };

      /*
      3. Exécutez les 3 méthodes sur UNE SEULE ligne.
      */
      objetMagique
        .manger()
        .programmer()
        .dormir()
        .manger()
        .programmer()
        .dormir();

      /*
      4. Créez une fonction usine qui retourne l'objet.
      */
      var usineObjetMagique = function () {
        return objetMagique;
      };

      /*
      5. Exécutez la fonction usine et les 3 méthodes sur UNE SEULE ligne.
      */
      usineObjetMagique().manger().dormir().dormir().programmer();

      /*
      6. Renommez votre fonction usine avec le caractère $ et exécutez la fonction usine et les 3 méthodes sur une seule ligne.
      */
      var $ = usineObjetMagique;
      $().manger().dormir().dormir().programmer();

      /*
      7. Vous venez de comprendre un mécanisme de base de la librairie jQuery !
      */
      alert("Fantastique :D");
    </script>
  </head>
  <body>
    <h1>Titre principal</h1>
    <ul>
      <li>Premier point</li>
      <li>Deuxième point</li>
      <li>Troisième point</li>
    </ul>
    <div>
      <div>
        <h2><span>1</span>. Titre de la première section</h2>
        <p>
          <span>1.1</span>. Premier paragraphe de la première section et un
          <a href="#">lien</a>.
        </p>
        <p>
          <span>1.2</span>. Deuxième paragraphe de la deuxième section et un
          <a href="#">lien</a>.
        </p>
      </div>
      <div>
        <h2><span>2</span>. Titre de la deuxième section</h2>
        <p>
          <span>2.1</span>. Premier paragraphe de la deuxième section et un
          <a href="#">lien</a>.
        </p>
        <p>
          <span>2.2</span>. Deuxième paragraphe de la deuxième section et un
          <a href="#">lien</a>.
        </p>
      </div>
      <div>
        <h2><span>3</span>. Titre de la troisième section</h2>
        <p>
          <span>3.1</span>. Premier paragraphe de la troisième section et un
          <a href="#">lien</a>.
        </p>
        <p>
          <span>3.2</span>. Deuxième paragraphe de la troisième section et un
          <a href="#">lien</a>.
        </p>
      </div>
    </div>
  </body>
</html>
